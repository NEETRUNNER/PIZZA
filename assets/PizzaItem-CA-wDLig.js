import{s as Pe,r as c,a as ke,b as Me,c as q,o as Ke,j as s,q as Qe,L as et,m as tt,R as g,f as at,u as nt,G as rt,d as it}from"./index-BbK6zlp0.js";const st=()=>{const{pizzaData:p,tipPizzas:t}=Pe(),[u]=c.useState(!0),[n,l]=c.useState([]),{pizzaTitle:d}=ke(),v=Me(),a=p.find(f=>q(f.pizza_title,{lower:!0,locale:"ru"})===d),m=Math.floor(Math.random()*(p.length-4)),x=t.filter(f=>f.pizza_title!==(a==null?void 0:a.pizza_title)).slice(m,m+4),z=Ke(u,{from:{transform:"rotateY(90deg)",opacity:0},enter:{transform:"rotateY(0deg)",opacity:1},leave:{transform:"rotateY(90deg)",opacity:0},config:{duration:300}});return c.useEffect(()=>{l(x)},[t,v.pathname]),z((f,b)=>b&&s.jsx("div",{className:"tips-pizza",children:s.jsxs("div",{className:"md:w-3/4 xs:w-full mx-auto px-4 py-8",children:[s.jsx("h2",{className:"md:text-3xl xs:text-xl font-bold mb-6 text-black font-nunito",children:"Інші піцци"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-x-24 gap-y-8",children:n.map((_,S)=>s.jsx(Qe.div,{style:f,className:"w-[500px] md:mx-0 xs:mx-auto",children:s.jsxs(et,{to:`/pizza-product/${q(_.pizza_title,{lower:!0,locale:"ru"})}`,className:"block overflow-hidden",children:[s.jsx("img",{src:_.pizza_img,alt:_.pizza_title,className:"w-full object-cover"}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"md:text-xl xs:text-lg font-extrabold text-black mb-2 font-nunito",children:_.pizza_title}),s.jsxs("p",{className:"md:text-md xs:text-base font-bold text-black font-nunito",children:[_.pizza_price," грн"]}),s.jsxs("p",{className:"md:text-md xs:text-base font-bold text-black font-nunito",children:[_.pizza_weight," г"]})]})]},S)},S))})]})}))};var B={exports:{}},A,Ee;function ot(){if(Ee)return A;Ee=1;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A=p,A}var W,De;function ct(){if(De)return W;De=1;var p=ot();function t(){}function u(){}return u.resetWarningCache=t,W=function(){function n(v,a,m,x,z,f){if(f!==p){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function l(){return n}var d={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:l,element:n,elementType:n,instanceOf:l,node:n,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:u,resetWarningCache:t};return d.PropTypes=d,d},W}var Ne;function lt(){return Ne||(Ne=1,B.exports=ct()()),B.exports}var ut=lt();const pt=tt(ut);function L(){return L=Object.assign||function(p){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(p[n]=u[n])}return p},L.apply(this,arguments)}var Ce=function(t){var u=t.src,n=t.sources,l=t.width,d=t.height,v=t.hasSpacer,a=t.imgAttributes,m=t.isZoomed,x=t.fadeDuration,z=l&&d&&v;return g.createElement("div",{style:{paddingTop:z?d/l*100+"%":null}},n&&n.length>0?g.createElement("picture",null,n.map(function(f,b){return g.createElement(c.Fragment,{key:b},f.srcSet&&g.createElement("source",f))}),g.createElement("img",L({},a,{className:"iiz__img "+(a.className||"")+" "+(m?"iiz__img--hidden":"")+" "+(z?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(m?x:0)+"ms, visibility 0ms linear "+(m?x:0)+"ms"},src:u,width:l,height:d}))):g.createElement("img",L({},a,{className:"iiz__img "+(a.className||"")+" "+(m?"iiz__img--hidden":"")+" "+(z?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(m?x:0)+"ms, visibility 0ms linear "+(m?x:0)+"ms"},src:u,width:l,height:d})))};Ce.propTypes={};var $=function(t){var u=t.src,n=t.fadeDuration,l=t.top,d=t.left,v=t.isZoomed,a=t.onLoad,m=t.onDragStart,x=t.onDragEnd,z=t.onClose,f=t.onFadeOut;return g.createElement(c.Fragment,null,g.createElement("img",{className:"iiz__zoom-img "+(v?"iiz__zoom-img--visible":""),style:{top:l,left:d,transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},src:u,onLoad:a,onTouchStart:m,onTouchEnd:x,onMouseDown:m,onMouseUp:x,onTransitionEnd:f,draggable:"false",alt:""}),z&&g.createElement("button",{className:"iiz__btn iiz__close "+(v?"iiz__close--visible":""),style:{transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},onClick:z,"aria-label":"Zoom Out"}))};$.propTypes={};var Oe=function(t){var u=t.children,n=c.useState(function(){var d=document.createElement("div");return d.classList.add("iiz__zoom-portal"),d}),l=n[0];return c.useEffect(function(){return document.body.appendChild(l),function(){return document.body.removeChild(l)}},[l]),at.createPortal(u,l)};Oe.propTypes={children:pt.element};var dt=void 0,Fe=function(t){var u=t.moveType,n=u===void 0?"pan":u,l=t.zoomType,d=l===void 0?"click":l,v=t.src,a=t.sources,m=t.width,x=t.height,z=t.hasSpacer,f=t.imgAttributes,b=f===void 0?{}:f,_=t.zoomSrc,S=t.zoomScale,R=S===void 0?1:S,N=t.zoomPreload,M=t.fadeDuration,P=M===void 0?150:M,k=t.fullscreenOnMobile,H=t.mobileBreakpoint,I=H===void 0?640:H,U=t.hideCloseButton,Le=t.hideHint,V=t.className,G=t.afterZoomIn,J=t.afterZoomOut,C=c.useRef(null),y=c.useRef(null),r=c.useRef({}),K=c.useState(N),Re=K[0],O=K[1],Q=c.useState(!1),w=Q[0],ee=Q[1],te=c.useState(!1),T=te[0],ae=te[1],ne=c.useState(!1),D=ne[0],re=ne[1],ie=c.useState(!1),se=ie[0],oe=ie[1],ce=c.useState(!1),Ie=ce[0],Ye=ce[1],le=c.useState(!1),Xe=le[0],Y=le[1],ue=c.useState(n),E=ue[0],pe=ue[1],de=c.useState(0),Ze=de[0],me=de[1],fe=c.useState(0),Be=fe[0],he=fe[1],Ae=function(e){O(!0),Y(!1),d==="hover"&&!T&&ge(e)},We=function(){ee(!0),re(Te(k,I)),pe("drag")},ge=function(e){if(T){w?U&&X(e):!Ie&&_e();return}w&&O(!0),y.current?(xe({target:y.current}),be(e.pageX,e.pageY)):r.current.onLoadCallback=be.bind(dt,e.pageX,e.pageY)},xe=function(e){var i=Ge(e.target,R);y.current=e.target,y.current.setAttribute("width",i.width),y.current.setAttribute("height",i.height),r.current.scaledDimensions=i,r.current.bounds=Se(C.current,!1),r.current.ratios=Ve(r.current.bounds,i),r.current.onLoadCallback&&(r.current.onLoadCallback(),r.current.onLoadCallback=null)},ze=function(e){var i=e.pageX-r.current.offsets.x,h=e.pageY-r.current.offsets.y;i=Math.max(Math.min(i,r.current.bounds.width),0),h=Math.max(Math.min(h,r.current.bounds.height),0),me(i*-r.current.ratios.x),he(h*-r.current.ratios.y)},qe=function(e){var i=typeof e.pageX=="number"?e.pageX:e.changedTouches[0].pageX,h=typeof e.pageY=="number"?e.pageY:e.changedTouches[0].pageY;r.current.offsets=Z(i,h,y.current.offsetLeft,y.current.offsetTop),oe(!0),w||(r.current.eventPosition={x:e.pageX,y:e.pageY})},F=c.useCallback(function(o){o.stopPropagation();var e=typeof o.pageX=="number"?o.pageX:o.changedTouches[0].pageX,i=typeof o.pageY=="number"?o.pageY:o.changedTouches[0].pageY,h=e-r.current.offsets.x,j=i-r.current.offsets.y;h=Math.max(Math.min(h,0),(r.current.scaledDimensions.width-r.current.bounds.width)*-1),j=Math.max(Math.min(j,0),(r.current.scaledDimensions.height-r.current.bounds.height)*-1),me(h),he(j)},[]),ve=function(e){if(oe(!1),!w){var i=Math.abs(e.pageX-r.current.eventPosition.x),h=Math.abs(e.pageY-r.current.eventPosition.y);Ye(i>5||h>5)}},$e=function(e){E==="drag"&&T?ve(e):X(e)},X=function(e){!w&&e.target.classList.contains("iiz__close")||(!T||D||!P?ye({},!0):Y(!0)),_e()},ye=function(e,i){(i||e.propertyName==="opacity"&&C.current.contains(e.target))&&((N&&w||!N)&&(y.current=null,r.current=we(),O(!1)),ee(!1),re(!1),pe(n),Y(!1))},He=function(e,i){r.current.offsets=Z(window.pageXOffset,window.pageYOffset,-r.current.bounds.left,-r.current.bounds.top),ze({pageX:e,pageY:i})},Ue=function(e,i){var h=(e-(window.pageXOffset+r.current.bounds.left))*-r.current.ratios.x,j=(i-(window.pageYOffset+r.current.bounds.top))*-r.current.ratios.y;h=h+(D?(window.innerWidth-r.current.bounds.width)/2:0),j=j+(D?(window.innerHeight-r.current.bounds.height)/2:0),r.current.bounds=Se(C.current,D),r.current.offsets=Z(0,0,0,0),F({changedTouches:[{pageX:h,pageY:j}],preventDefault:function(){},stopPropagation:function(){}})},be=function(e,i){ae(!0),E==="drag"?Ue(e,i):He(e,i),G&&G()},_e=function(){ae(!1),J&&J()},we=function(){return{onLoadCallback:null,bounds:{},offsets:{},ratios:{},eventPosition:{},scaledDimensions:{}}},Se=function(e,i){return i?{width:window.innerWidth,height:window.innerHeight,left:0,top:0}:e.getBoundingClientRect()},Z=function(e,i,h,j){return{x:e-h,y:i-j}},Ve=function(e,i){return{x:(i.width-e.width)/e.width,y:(i.height-e.height)/e.height}},Te=function(e,i){return e&&window.matchMedia&&window.matchMedia("(max-width: "+i+"px)").matches},Ge=function(e,i){return{width:e.naturalWidth*i,height:e.naturalHeight*i}},je={src:_||v,fadeDuration:D?0:P,top:Be,left:Ze,isZoomed:T,onLoad:xe,onDragStart:E==="drag"?qe:null,onDragEnd:E==="drag"?ve:null,onClose:!U&&E==="drag"?X:null,onFadeOut:Xe?ye:null};return c.useEffect(function(){r.current=we()},[]),c.useEffect(function(){Te(k,I)&&O(!1)},[k,I]),c.useEffect(function(){if(y.current){var o=w?"touchmove":"mousemove";se?y.current.addEventListener(o,F,{passive:!0}):y.current.removeEventListener(o,F)}},[se,w,F]),g.createElement("figure",{className:"iiz "+(E==="drag"?"iiz--drag":"")+" "+(V||""),style:{width:m},ref:C,onTouchStart:T?null:We,onClick:ge,onMouseEnter:w?null:Ae,onMouseMove:E==="drag"||!T?null:ze,onMouseLeave:w?null:$e},g.createElement(Ce,{src:v,sources:a,width:m,height:x,hasSpacer:z,imgAttributes:b,fadeDuration:P,isZoomed:T}),Re&&g.createElement(c.Fragment,null,D?g.createElement(Oe,null,g.createElement($,je)):g.createElement($,je)),!Le&&!T&&g.createElement("span",{className:"iiz__btn iiz__hint"}))};Fe.propTypes={};const ft=()=>{const p=nt(),{pizzaPrice:t,pizzasForDelivery:u,selectedPizza:n,pizzaData:l}=Pe(),{pizzaTitle:d}=ke(),v=Me(),a=l.find(S=>q(S.pizza_title,{lower:!0,locale:"ru"})===d),{addPizza:m,deletePizza:x,addToBasketCart:z,changePizzaPrice:f,resetPizzaCounter:b}=it.actions,_=(S,R,N,M,P,k)=>{p(z({pizza_title:S,pizza_counter:R,pizza_id:N,pizza_price:M,pizza_img:P,pizza_descr:k}))};return c.useEffect(()=>{p(b())},[v.pathname]),c.useEffect(()=>{a!=null&&a.pizza_price&&p(f({pizza_price:a.pizza_price,pizza_counter:a.pizza_counter}))},[a]),c.useEffect(()=>{console.log("Выбранные пиццы",n),console.log("Пиццы для заказа(уже в массиве корзины)",u)},[u,n]),s.jsxs("section",{className:"pizza-item",children:[s.jsx("div",{className:"pizza-item__container md:my-12 xs:my-0 md:w-3/4 xs:w-11/12 mx-auto flex justify-center",children:a&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"pizza-item__wrap flex justify-center gap-x-8 lg:flex-nowrap xm:flex-wrap xs:flex-wrap",children:[s.jsx(Fe,{src:a.pizza_img,className:"image-zoom",zoomType:"hover"}),s.jsxs("div",{className:"flex-col flex",children:[s.jsx("h1",{className:"pizza-item__wrap pizza-item__title text-black font-extrabold md:text-3xl xs:text-2xl mt-2 font-nunito uppercase",children:a.pizza_title}),s.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Традиційне тісто 40 см, ",a.pizza_weight," г"]}),s.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Кількість в порції: ",a==null?void 0:a.amount]}),s.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Склад: ",a.pizza_descr]}),s.jsxs("div",{className:"flex md:justify-start xm:justify-center xs:justify-around flex-wrap py-8 xs:gap-x-5 xs:gap-y-5 w-full",children:[s.jsxs("div",{className:"flex gap-x-2",children:[s.jsx("button",{onClick:()=>p(x({pizza_title:a.pizza_title,pizza_counter:a.pizza_counter,pizza_id:a.id,pizza_price:a.pizza_price})),disabled:a.pizza_counter===1,className:"md:text-4xl xs:text-3xl font-extrabold text-orange-500 font-nunito cursor-pointer",children:"-"}),s.jsx("button",{className:"md:text-3xl xs:text-2xl font-extrabold text-orange-500 font-nunito",children:a.pizza_counter}),s.jsx("button",{onClick:()=>p(m({pizza_title:a.pizza_title,pizza_counter:a.pizza_counter,pizza_id:a.id,pizza_price:a.pizza_price})),className:"text-orange-500 md:text-4xl xs:text-3xl font-extrabold font-nunito cursor-pointer",children:"+"})]}),s.jsxs("div",{className:"text-black px-2 md:py-2 xs:py-3 tracking-widest uppercase font-black md:text-2xl xs:text-xl flex justify-center items-center font-nunito",children:[t," грн"]}),s.jsxs("button",{onClick:()=>_(a.pizza_title,a.pizza_counter,a.id,a.pizza_price,a.pizza_img,a.pizza_descr),disabled:a.pizza_counter<=0,className:`px-6 py-4 md:w-max xs:w-full tracking-widest uppercase font-bold text-xs flex justify-center items-center font-nunito transition duration-300 ${a.pizza_counter<=0?"bg-transparent text-black border-[1px] border-neutral-500 shadow-[inset_0_0_0_2px_#616467] hover:bg-neutral-200 hover:text-black":"bg-gradient-to-r from-red-400 to-red-600 text-white shadow-lg hover:from-red-500 hover:to-red-700"}`,children:["Додати до кошику ",s.jsx(rt,{className:"ml-2",size:"2em"})]})]})]})]})})}),s.jsx("div",{className:"pizza-item__recommendations",children:s.jsx(st,{})})]})};export{ft as default};
