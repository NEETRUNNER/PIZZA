import{u as T,s as B,a as G,b as Z,c as M,r as u,j as e,G as R,d as U,i as $}from"./index-BM7AanOQ.js";import{i as q,L as z,F as f}from"./chunk-VKW4DPLJ-DTiOuZ6a.js";const J=()=>{const n=T(),{pizzaData:_,ingridientData:h,pizzaPrice:p,selectedIngridients:a,pizzasForDelivery:m,selectedPizza:d}=B(),{pizzaTitle:b}=G(),j=Z(),i=_.find(t=>M(t.pizza_title,{lower:!0,locale:"ru"})===b),{addPizza:y,deletePizza:w,addToBasketCart:N,changePizzaPrice:v,resetPizzaCounter:k,addIngridientPrice:P,deleteIngridientPrice:I}=U.actions,{addIngridient:C,deleteIngridient:E,resetIngridientCounter:g}=$.actions,x=a.reduce((t,s)=>t+s.ingridient_price*s.ingridient_counter,0),F=(t,s,l,r,o,c)=>{n(C({ingridient_title:t,ingridient_id:s,pizza_price:l,ingridient_price:r,ingridient_counter:o,selectedPizza:c})),n(P({ingridient_price:r}))},D=(t,s,l,r,o,c)=>{n(E({ingridient_title:t,ingridient_id:s,pizza_price:l,ingridient_price:r,ingridient_counter:o,selectedPizza:c})),n(I({ingridient_price:r}))},L=(t,s,l,r,o,c,S)=>{n(N({pizza_title:t,pizza_counter:s,pizza_id:l,pizza_price:r,pizza_img:o,selectedIngridients:c,totalIngridientPrice:S})),n(g())};return u.useEffect(()=>{n(k()),n(g())},[j.pathname]),u.useEffect(()=>{i!=null&&i.pizza_price&&n(v({pizza_price:i.pizza_price,pizza_counter:i.pizza_counter,ingridient_price:x}))},[i]),u.useEffect(()=>{console.log("Выбранные ингридиенты",a),console.log("Выбранные пиццы",d),console.log("Пиццы для заказа(уже в массиве корзины)",m)},[a,m,d]),e.jsx("section",{className:"pizza-item",children:e.jsx("div",{className:"pizza-item__container md:w-3/4 xs:w-11/12 mx-auto my-12 flex justify-center",children:i&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pizza-item__wrap flex justify-center gap-x-8 lg:flex-nowrap xm:flex-wrap xs:flex-wrap",children:[e.jsx(q,{isZoomed:!0,alt:"NextUI Fruit Image with Zoom",src:i.pizza_img,className:"w-[400px] h-max"}),e.jsxs("div",{className:"flex-col flex",children:[e.jsx("h1",{className:"pizza-item__wrap pizza-item__title text-black font-extrabold md:text-3xl xs:text-2xl mt-2 font-nunito",children:i.pizza_title}),e.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 text-md font-light mt-4",children:["Традиційне тісто 25 см, ",i.pizza_weight," г"]}),e.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 text-md font-light mt-4",children:["Склад: ",i.pizza_descr]}),e.jsxs("div",{className:"flex md:justify-center xs:justify-center flex-wrap py-8 xs:gap-x-5 xs:gap-y-5 w-full",children:[e.jsxs("div",{className:"flex",children:[e.jsx("button",{disabled:i.pizza_counter===1,onClick:()=>n(w({pizza_title:i.pizza_title,pizza_counter:i.pizza_counter,pizza_id:i.id,pizza_price:i.pizza_price,totalIngridientPrice:x,selectedIngridients:a})),type:"button",className:"md:py-2 md:px-4 xs:py-1 xs:px-2 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 focus:ring-indigo-600 transition-all md:text-sm",children:e.jsx(z,{})}),e.jsx("button",{type:"button",className:"md:py-2 md:px-4 xs:py-1 xs:px-3 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 transition-all text-sm",children:i.pizza_counter}),e.jsx("button",{onClick:()=>n(y({pizza_title:i.pizza_title,pizza_counter:i.pizza_counter,pizza_id:i.id,pizza_price:i.pizza_price,totalIngridientPrice:x,selectedIngridients:a})),type:"button",className:"md:py-2 md:px-4 xs:py-1 xs:px-2 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 focus:ring-indigo-600 transition-all text-sm",children:e.jsx(f,{})})]}),e.jsxs("div",{className:"text-black md:px-6 md:py-2 xs:px-8 xs:py-3 tracking-widest uppercase font-normal md:text-2xl xs:text-xl flex justify-center items-center font-nunito",children:[p," грн"]}),e.jsxs("button",{onClick:()=>L(i.pizza_title,i.pizza_counter,i.id,i.pizza_price,i.pizza_img,a,x),disabled:i.pizza_counter<=0,className:`px-6 py-4 md:w-max xs:w-full tracking-widest uppercase font-bold text-xs flex justify-center items-center font-nunito transition duration-300 ${i.pizza_counter<=0?"bg-transparent text-black border-[1px] border-neutral-500 shadow-[inset_0_0_0_2px_#616467] hover:bg-neutral-200 hover:text-black":"bg-gradient-to-r from-red-400 to-red-600 text-white shadow-lg hover:from-red-500 hover:to-red-700"}`,children:["Додати до кошику ",e.jsx(R,{className:"ml-2",size:"2em"})]})]}),e.jsx("div",{className:"pizza-item__ingridients flex flex-row flex-wrap justify-center",children:h.map((t,s)=>e.jsxs("div",{className:"pizza-item__ingridients pizza-item__ingridients-block px-4",children:[e.jsx("img",{src:t.ingridient_img,alt:"",className:"w-24 mx-auto"}),e.jsxs("div",{className:"flex my-3",children:[e.jsxs("p",{className:"text-black border-r-2 px-2 font-semibold",children:[t.ingridient_weight," г"]}),e.jsxs("p",{className:"text-black px-2 font-semibold",children:[t.ingridient_price," грн"]})]}),e.jsxs("button",{className:"text-base font-semibold m-6 group relative w-max",children:[e.jsx("span",{className:"text-black font-nunito",children:t.ingridient_title}),e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 transition-all h-0.5 bg-indigo-600 group-hover:w-full"})]}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{onClick:()=>D(t.ingridient_title,t.id,p,t.ingridient_price,t.ingridient_counter,d),disabled:t.ingridient_counter===0,type:"button",className:"py-1 px-2 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 focus:ring-indigo-600 transition-all text-sm",children:e.jsx(z,{})}),e.jsx("div",{className:"py-1 px-2 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 transition-all text-xs",children:t.ingridient_counter}),e.jsx("button",{onClick:()=>F(t.ingridient_title,t.id,p,t.ingridient_price,t.ingridient_counter,d),type:"button",className:"py-1 px-2 inline-flex justify-center items-center gap-2 -ml-px first:rounded-l-lg first:ml-0 last:rounded-r-lg border font-medium bg-white text-gray-900 align-middle hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-2 focus:ring-indigo-600 transition-all text-sm",children:e.jsx(f,{})})]})]},s))})]})]})})})})};export{J as default};
