import{S as Pe,r as l,q as Ne,s as Me,O as Je,n as o,P as Ke,L as et,w as ke,M as tt,Q as h,F as at,v as nt,y as rt,z as it}from"./index-DdRWFAQw.js";import{R as st}from"./rating.esm-C75-XHAV.js";const ot=()=>{const{pizzaData:g,tipPizzas:t}=Pe(),[u]=l.useState(!0),[n,c]=l.useState([]),{pizzaTitle:p}=Ne(),y=Me(),x=g.find(d=>d.pizza_title===p),m=Math.floor(Math.random()*(g.length-4)),z=t.filter(d=>d.pizza_title!==(x==null?void 0:x.pizza_title)).slice(m,m+4),v=Je(u,{from:{transform:"rotateY(90deg)",opacity:0},enter:{transform:"rotateY(0deg)",opacity:1},leave:{transform:"rotateY(90deg)",opacity:0},config:{duration:300}});return l.useEffect(()=>{c(z)},[t,y.pathname]),v((d,a)=>a&&o.jsx("div",{className:"tips-pizza",children:o.jsxs("div",{className:"md:w-3/4 xs:w-full mx-auto px-4 py-8",children:[o.jsx("h2",{className:"md:text-4xl xs:text-2xl font-bold text-black font-nunito border-b-2 w-max",children:"Інші піцци"}),o.jsx("div",{className:"flex flex-wrap justify-between gap-y-8 md:mt-12 xs:mt-6",children:n.map(w=>o.jsxs(Ke.div,{style:d,className:"pizza-block__item md:max-w-[600px] xs:w-full my-4 relative",children:[o.jsxs("div",{className:"flex justify-between items-center w-full md:absolute xs:relative",children:[o.jsx("h1",{className:"text-black md:text-2xl xs:text-md w-max font-nunito uppercase font-extrabold p-1",children:w.pizza_title}),o.jsx(st,{value:w.rating,cancel:!1,className:"custom-rating px-2 h-12",style:{color:"#FFA500"}})]}),o.jsx(et,{to:`/pizza-product/${ke(w.pizza_title,{lower:!0,locale:"ru"})}`,children:o.jsx("img",{alt:"pizza_img",src:w.pizza_img,className:"w-max"})})]},w.id))})]})}))};var A={exports:{}},B,je;function lt(){if(je)return B;je=1;var g="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return B=g,B}var W,Ee;function ct(){if(Ee)return W;Ee=1;var g=lt();function t(){}function u(){}return u.resetWarningCache=t,W=function(){function n(y,x,m,z,v,d){if(d!==g){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}n.isRequired=n;function c(){return n}var p={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:c,element:n,elementType:n,instanceOf:c,node:n,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:u,resetWarningCache:t};return p.PropTypes=p,p},W}var De;function ut(){return De||(De=1,A.exports=ct()()),A.exports}var dt=ut();const pt=tt(dt);function R(){return R=Object.assign||function(g){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(g[n]=u[n])}return g},R.apply(this,arguments)}var Oe=function(t){var u=t.src,n=t.sources,c=t.width,p=t.height,y=t.hasSpacer,x=t.imgAttributes,m=t.isZoomed,z=t.fadeDuration,v=c&&p&&y;return h.createElement("div",{style:{paddingTop:v?p/c*100+"%":null}},n&&n.length>0?h.createElement("picture",null,n.map(function(d,a){return h.createElement(l.Fragment,{key:a},d.srcSet&&h.createElement("source",d))}),h.createElement("img",R({},x,{className:"iiz__img "+(x.className||"")+" "+(m?"iiz__img--hidden":"")+" "+(v?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(m?z:0)+"ms, visibility 0ms linear "+(m?z:0)+"ms"},src:u,width:c,height:p}))):h.createElement("img",R({},x,{className:"iiz__img "+(x.className||"")+" "+(m?"iiz__img--hidden":"")+" "+(v?"iiz__img--abs":""),style:{transition:"opacity 0ms linear "+(m?z:0)+"ms, visibility 0ms linear "+(m?z:0)+"ms"},src:u,width:c,height:p})))};Oe.propTypes={};var q=function(t){var u=t.src,n=t.fadeDuration,c=t.top,p=t.left,y=t.isZoomed,x=t.onLoad,m=t.onDragStart,z=t.onDragEnd,v=t.onClose,d=t.onFadeOut;return h.createElement(l.Fragment,null,h.createElement("img",{className:"iiz__zoom-img "+(y?"iiz__zoom-img--visible":""),style:{top:c,left:p,transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},src:u,onLoad:x,onTouchStart:m,onTouchEnd:z,onMouseDown:m,onMouseUp:z,onTransitionEnd:d,draggable:"false",alt:""}),v&&h.createElement("button",{className:"iiz__btn iiz__close "+(y?"iiz__close--visible":""),style:{transition:"opacity "+n+"ms linear, visibility "+n+"ms linear"},onClick:v,"aria-label":"Zoom Out"}))};q.propTypes={};var Ce=function(t){var u=t.children,n=l.useState(function(){var p=document.createElement("div");return p.classList.add("iiz__zoom-portal"),p}),c=n[0];return l.useEffect(function(){return document.body.appendChild(c),function(){return document.body.removeChild(c)}},[c]),at.createPortal(u,c)};Ce.propTypes={children:pt.element};var mt=void 0,Fe=function(t){var u=t.moveType,n=u===void 0?"pan":u,c=t.zoomType,p=c===void 0?"click":c,y=t.src,x=t.sources,m=t.width,z=t.height,v=t.hasSpacer,d=t.imgAttributes,a=d===void 0?{}:d,w=t.zoomSrc,E=t.zoomScale,L=E===void 0?1:E,P=t.zoomPreload,k=t.fadeDuration,N=k===void 0?150:k,M=t.fullscreenOnMobile,$=t.mobileBreakpoint,I=$===void 0?640:$,H=t.hideCloseButton,Re=t.hideHint,U=t.className,V=t.afterZoomIn,Q=t.afterZoomOut,O=l.useRef(null),b=l.useRef(null),r=l.useRef({}),G=l.useState(P),Le=G[0],C=G[1],J=l.useState(!1),_=J[0],K=J[1],ee=l.useState(!1),S=ee[0],te=ee[1],ae=l.useState(!1),D=ae[0],ne=ae[1],re=l.useState(!1),ie=re[0],se=re[1],oe=l.useState(!1),Ie=oe[0],Ye=oe[1],le=l.useState(!1),Xe=le[0],Y=le[1],ce=l.useState(n),j=ce[0],ue=ce[1],de=l.useState(0),Ze=de[0],pe=de[1],me=l.useState(0),Ae=me[0],fe=me[1],Be=function(e){C(!0),Y(!1),p==="hover"&&!S&&ge(e)},We=function(){K(!0),ne(Se(M,I)),ue("drag")},ge=function(e){if(S){_?H&&X(e):!Ie&&be();return}_&&C(!0),b.current?(he({target:b.current}),ye(e.pageX,e.pageY)):r.current.onLoadCallback=ye.bind(mt,e.pageX,e.pageY)},he=function(e){var i=Qe(e.target,L);b.current=e.target,b.current.setAttribute("width",i.width),b.current.setAttribute("height",i.height),r.current.scaledDimensions=i,r.current.bounds=we(O.current,!1),r.current.ratios=Ve(r.current.bounds,i),r.current.onLoadCallback&&(r.current.onLoadCallback(),r.current.onLoadCallback=null)},xe=function(e){var i=e.pageX-r.current.offsets.x,f=e.pageY-r.current.offsets.y;i=Math.max(Math.min(i,r.current.bounds.width),0),f=Math.max(Math.min(f,r.current.bounds.height),0),pe(i*-r.current.ratios.x),fe(f*-r.current.ratios.y)},qe=function(e){var i=typeof e.pageX=="number"?e.pageX:e.changedTouches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.changedTouches[0].pageY;r.current.offsets=Z(i,f,b.current.offsetLeft,b.current.offsetTop),se(!0),_||(r.current.eventPosition={x:e.pageX,y:e.pageY})},F=l.useCallback(function(s){s.stopPropagation();var e=typeof s.pageX=="number"?s.pageX:s.changedTouches[0].pageX,i=typeof s.pageY=="number"?s.pageY:s.changedTouches[0].pageY,f=e-r.current.offsets.x,T=i-r.current.offsets.y;f=Math.max(Math.min(f,0),(r.current.scaledDimensions.width-r.current.bounds.width)*-1),T=Math.max(Math.min(T,0),(r.current.scaledDimensions.height-r.current.bounds.height)*-1),pe(f),fe(T)},[]),ze=function(e){if(se(!1),!_){var i=Math.abs(e.pageX-r.current.eventPosition.x),f=Math.abs(e.pageY-r.current.eventPosition.y);Ye(i>5||f>5)}},$e=function(e){j==="drag"&&S?ze(e):X(e)},X=function(e){!_&&e.target.classList.contains("iiz__close")||(!S||D||!N?ve({},!0):Y(!0)),be()},ve=function(e,i){(i||e.propertyName==="opacity"&&O.current.contains(e.target))&&((P&&_||!P)&&(b.current=null,r.current=_e(),C(!1)),K(!1),ne(!1),ue(n),Y(!1))},He=function(e,i){r.current.offsets=Z(window.pageXOffset,window.pageYOffset,-r.current.bounds.left,-r.current.bounds.top),xe({pageX:e,pageY:i})},Ue=function(e,i){var f=(e-(window.pageXOffset+r.current.bounds.left))*-r.current.ratios.x,T=(i-(window.pageYOffset+r.current.bounds.top))*-r.current.ratios.y;f=f+(D?(window.innerWidth-r.current.bounds.width)/2:0),T=T+(D?(window.innerHeight-r.current.bounds.height)/2:0),r.current.bounds=we(O.current,D),r.current.offsets=Z(0,0,0,0),F({changedTouches:[{pageX:f,pageY:T}],preventDefault:function(){},stopPropagation:function(){}})},ye=function(e,i){te(!0),j==="drag"?Ue(e,i):He(e,i),V&&V()},be=function(){te(!1),Q&&Q()},_e=function(){return{onLoadCallback:null,bounds:{},offsets:{},ratios:{},eventPosition:{},scaledDimensions:{}}},we=function(e,i){return i?{width:window.innerWidth,height:window.innerHeight,left:0,top:0}:e.getBoundingClientRect()},Z=function(e,i,f,T){return{x:e-f,y:i-T}},Ve=function(e,i){return{x:(i.width-e.width)/e.width,y:(i.height-e.height)/e.height}},Se=function(e,i){return e&&window.matchMedia&&window.matchMedia("(max-width: "+i+"px)").matches},Qe=function(e,i){return{width:e.naturalWidth*i,height:e.naturalHeight*i}},Te={src:w||y,fadeDuration:D?0:N,top:Ae,left:Ze,isZoomed:S,onLoad:he,onDragStart:j==="drag"?qe:null,onDragEnd:j==="drag"?ze:null,onClose:!H&&j==="drag"?X:null,onFadeOut:Xe?ve:null};return l.useEffect(function(){r.current=_e()},[]),l.useEffect(function(){Se(M,I)&&C(!1)},[M,I]),l.useEffect(function(){if(b.current){var s=_?"touchmove":"mousemove";ie?b.current.addEventListener(s,F,{passive:!0}):b.current.removeEventListener(s,F)}},[ie,_,F]),h.createElement("figure",{className:"iiz "+(j==="drag"?"iiz--drag":"")+" "+(U||""),style:{width:m},ref:O,onTouchStart:S?null:We,onClick:ge,onMouseEnter:_?null:Be,onMouseMove:j==="drag"||!S?null:xe,onMouseLeave:_?null:$e},h.createElement(Oe,{src:y,sources:x,width:m,height:z,hasSpacer:v,imgAttributes:a,fadeDuration:N,isZoomed:S}),Le&&h.createElement(l.Fragment,null,D?h.createElement(Ce,null,h.createElement(q,Te)):h.createElement(q,Te)),!Re&&!S&&h.createElement("span",{className:"iiz__btn iiz__hint"}))};Fe.propTypes={};const ht=()=>{const{pizzaPrice:g,pizzasForDelivery:t,selectedPizza:u,pizzaData:n}=Pe(),{addPizza:c,deletePizza:p,addToBasketCart:y,resetPizzaItem:x}=rt.actions,{toggleAlert:m}=it.actions,{pizzaTitle:z}=Ne(),v=Me(),d=nt(),a=n.find(E=>ke(E.pizza_title,{lower:!0,locale:"ru"})===z),w=(E,L,P,k,N,M)=>{d(y({pizza_title:E,pizza_counter:L,pizza_id:P,pizza_price:k,pizza_img:N,pizza_descr:M})),d(m({type:"pizza",value:!0}))};return l.useEffect(()=>{d(x({pizza_price:a==null?void 0:a.pizza_price}))},[v.pathname]),l.useEffect(()=>{console.log("Выбранные пиццы",u),console.log("Пиццы для заказа(уже в массиве корзины)",t)},[t,u]),o.jsxs("section",{className:"pizza-item",children:[o.jsx("div",{className:"pizza-item__container md:my-12 xs:my-0 md:w-3/4 xs:w-11/12 mx-auto flex justify-center",children:a&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"pizza-item__wrap flex justify-center gap-x-8 lg:flex-nowrap xm:flex-wrap xs:flex-wrap",children:[o.jsx(Fe,{src:a.pizza_img,className:"image-zoom",zoomType:"hover"}),o.jsxs("div",{className:"flex-col flex",children:[o.jsx("h1",{className:"pizza-item__wrap pizza-item__title text-black font-extrabold md:text-3xl xs:text-2xl mt-2 font-nunito uppercase",children:a.pizza_title}),o.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Традиційне тісто 40 см, ",a.pizza_weight," г"]}),o.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Кількість в порції: ",a==null?void 0:a.amount]}),o.jsxs("p",{className:"pizza-item__wrap pizza-item__info text-gray-400 md:text-base xs:text-xm font-light mt-4",children:["Склад: ",a.pizza_descr]}),o.jsxs("div",{className:"flex md:justify-start xm:justify-center xs:justify-around flex-wrap py-8 xs:gap-x-5 w-full",children:[o.jsxs("div",{className:"flex justify-center items-center gap-x-4",children:[o.jsx("button",{onClick:()=>d(p({pizza_title:a.pizza_title,pizza_counter:a.pizza_counter,pizza_id:a.id,pizza_price:a.pizza_price})),disabled:a.pizza_counter===1,className:"text-black md:text-xl xs:text-lg f font-bold bg-gray-200 rounded-full md:w-10 md:h-10 xs:w-7 xs:h-7 flex items-center justify-center hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition duration-200",children:"-"}),o.jsx("span",{className:"md:text-2xl xs:text-xl font-nunito font-extrabold text-gray-800",children:a.pizza_counter}),o.jsx("button",{onClick:()=>d(c({pizza_title:a.pizza_title,pizza_counter:a.pizza_counter,pizza_id:a.id,pizza_price:a.pizza_price})),className:"text-black temd:xt-xl f xs:text-lg font-bold bg-orange-400 rounded-full md:w-10 md:h-10 xs:w-7 xs:h-7 flex items-center justify-center hover:bg-orange-500 shadow-md transition duration-200",children:"+"})]}),o.jsxs("div",{className:"text-orange-500 px-2 md:py-2 xs:py-3 tracking-widest uppercase font-black md:text-2xl xs:text-xl flex justify-center items-center font-nunito",children:[g===void 0?a.pizza_price:g," грн"]}),o.jsx("button",{onClick:()=>w(a.pizza_title,a.pizza_counter,a.pizza_id,a.pizza_price,a.pizza_img,a.pizza_descr),disabled:a.pizza_counter<=0,className:`md:w-48 xs:w-full text-white md:mt-0 xs:mt-4 px-1 justify-center py-2 tracking-widest bg-orange-500 uppercase font-bold md:text-base
                                 xs:text-xm flex items-center font-nunito transition duration-300'}`,children:"Замовити"})]})]})]})})}),o.jsx("div",{className:"pizza-item__recommendations",children:o.jsx(ot,{})})]})};export{ht as default};
