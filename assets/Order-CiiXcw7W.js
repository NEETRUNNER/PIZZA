import{w as _,X as j,S,n,Y as H,z as F,V as W,A}from"./index-DmHcMyCs.js";import{u as k}from"./index.esm-B84HATHg.js";var P=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Z=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,C=/[^-+\dA-Z]/g;function O(t,r,o,l){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(r=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");r=String(w[r]||r||w.default);var i=r.slice(0,4);(i==="UTC:"||i==="GMT:")&&(r=r.slice(4),o=!0,i==="GMT:"&&(l=!0));var s=function(){return o?"getUTC":"get"},y=function(){return t[s()+"Date"]()},p=function(){return t[s()+"Day"]()},f=function(){return t[s()+"Month"]()},u=function(){return t[s()+"FullYear"]()},m=function(){return t[s()+"Hours"]()},a=function(){return t[s()+"Minutes"]()},x=function(){return t[s()+"Seconds"]()},v=function(){return t[s()+"Milliseconds"]()},h=function(){return o?0:t.getTimezoneOffset()},D=function(){return Y(t)},M=function(){return U(t)},N={d:function(){return y()},dd:function(){return c(y())},ddd:function(){return d.dayNames[p()]},DDD:function(){return b({y:u(),m:f(),d:y(),_:s(),dayName:d.dayNames[p()],short:!0})},dddd:function(){return d.dayNames[p()+7]},DDDD:function(){return b({y:u(),m:f(),d:y(),_:s(),dayName:d.dayNames[p()+7]})},m:function(){return f()+1},mm:function(){return c(f()+1)},mmm:function(){return d.monthNames[f()]},mmmm:function(){return d.monthNames[f()+12]},yy:function(){return String(u()).slice(2)},yyyy:function(){return c(u(),4)},h:function(){return m()%12||12},hh:function(){return c(m()%12||12)},H:function(){return m()},HH:function(){return c(m())},M:function(){return a()},MM:function(){return c(a())},s:function(){return x()},ss:function(){return c(x())},l:function(){return c(v(),3)},L:function(){return c(Math.floor(v()/10))},t:function(){return m()<12?d.timeNames[0]:d.timeNames[1]},tt:function(){return m()<12?d.timeNames[2]:d.timeNames[3]},T:function(){return m()<12?d.timeNames[4]:d.timeNames[5]},TT:function(){return m()<12?d.timeNames[6]:d.timeNames[7]},Z:function(){return l?"GMT":o?"UTC":J(t)},o:function(){return(h()>0?"-":"+")+c(Math.floor(Math.abs(h())/60)*100+Math.abs(h())%60,4)},p:function(){return(h()>0?"-":"+")+c(Math.floor(Math.abs(h())/60),2)+":"+c(Math.floor(Math.abs(h())%60),2)},S:function(){return["th","st","nd","rd"][y()%10>3?0:(y()%100-y()%10!=10)*y()%10]},W:function(){return D()},WW:function(){return c(D())},N:function(){return M()}};return r.replace(P,function(e){return e in N?N[e]():e.slice(1,e.length-1)})}var w={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},d={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},c=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(r).padStart(o,"0")},b=function(r){var o=r.y,l=r.m,i=r.d,s=r._,y=r.dayName,p=r.short,f=p===void 0?!1:p,u=new Date,m=new Date;m.setDate(m[s+"Date"]()-1);var a=new Date;a.setDate(a[s+"Date"]()+1);var x=function(){return u[s+"Date"]()},v=function(){return u[s+"Month"]()},h=function(){return u[s+"FullYear"]()},D=function(){return m[s+"Date"]()},M=function(){return m[s+"Month"]()},N=function(){return m[s+"FullYear"]()},e=function(){return a[s+"Date"]()},T=function(){return a[s+"Month"]()},z=function(){return a[s+"FullYear"]()};return h()===o&&v()===l&&x()===i?f?"Tdy":"Today":N()===o&&M()===l&&D()===i?f?"Ysd":"Yesterday":z()===o&&T()===l&&e()===i?f?"Tmw":"Tomorrow":y},Y=function(r){var o=new Date(r.getFullYear(),r.getMonth(),r.getDate());o.setDate(o.getDate()-(o.getDay()+6)%7+3);var l=new Date(o.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);var i=o.getTimezoneOffset()-l.getTimezoneOffset();o.setHours(o.getHours()-i);var s=(o-l)/(864e5*7);return 1+Math.floor(s)},U=function(r){var o=r.getDay();return o===0&&(o=7),o},J=function(r){return(String(r).match(Z)||[""]).pop().replace(C,"").replace(/GMT\+0000/g,"UTC")};const I="/PIZZA/assets/empty-BEdaOUWI.png",G=()=>{const t=_(),{register:r,reset:o,handleSubmit:l,formState:{errors:i}}=k(),s=j(a=>a.pizza.totalPizzaPrice),{toggleAlert:y}=A.actions,{deleteFromBasket:p,resetAllPizzas:f}=F.actions,{pizzasForDelivery:u}=S(),m=async a=>{a.orderTime=O(Date.now()),a.pizzas=u.map(x=>({"Назва піци":x.pizza_title,Кількість:x.pizza_counter,Ціна:x.pizza_price})),console.log(a),t(f()),o({name:"",address:"",phone:""});try{const x=await W.post("https://pizza-backend.up.railway.app/order/orderPizza",{name:a.name,address:a.address,phone:a.phone,pizzas:a.pizzas,orderTime:a.orderTime});return t(y({type:"order",value:!0})),x}catch(x){console.log(x)}};return n.jsx("section",{className:"order",children:n.jsxs("div",{className:"order-container justify-center flex md:w-3/4 xs:w-4/5 mx-auto my-4 gap-x-6 2xl:flex-nowrap xl:flex-wrap lg:flex-wrap xs:flex-wrap",children:[n.jsx("form",{action:"",className:"w-full",onSubmit:l(m),children:n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md md:my-16 xs:my-4 h-max",children:[n.jsx("h2",{className:"xl:text-2xl lg:text-xl xm:text-lg xs:text-[18px] font-semibold mb-4 text-black font-nunito",children:"Оформлення замовлення"}),n.jsx("input",{id:"name",type:"text",...r("name",{required:"Ім'я обов'язкове",pattern:{value:/^/,message:"Введіть корректне ім'я"}}),name:"name",placeholder:"Ім'я",className:"w-full p-2 border rounded-lg text-black my-2"}),i.name&&n.jsx("p",{className:"text-red-500 text-xs font-nunito text-center",children:i.name.message}),n.jsx("input",{type:"text",...r("address",{required:"Адреса обов'язкова",pattern:{value:/^/,message:"Введіть корректну адресу"}}),name:"address",placeholder:"Адреса",className:"w-full p-2 border rounded-lg text-black my-2"}),i.address&&n.jsx("p",{className:"text-red-500 text-xs font-nunito text-center",children:i.address.message}),n.jsx("input",{type:"tel",...r("phone",{required:"Номер телефону обов'язковий",pattern:{value:/^/,message:"Введіть корректний номер телефону"}}),name:"phone",placeholder:"Номер телефону",className:"w-full p-2 border rounded-lg text-black my-2"}),i.phone&&n.jsx("p",{className:"text-red-500 text-xs font-nunito text-center",children:i.phone.message}),n.jsx("button",{disabled:u.length<1,className:`uppercase w-full bg-orange-500 text-white p-2 font-nunito font-light mt-4 ${u.length>=1?"bg-orange-500":"bg-gray-500"}`,children:u.length<1?"Замовлення відсутні":"Замовити"})]})}),n.jsxs("div",{className:"w-full bg-white p-4 rounded-lg shadow-md md:my-16 xs:my-4 h-max",children:[n.jsx("h2",{className:"xl:text-2xl lg:text-xl xm:text-lg xs:text-[18px] font-semibold mb-4 text-black font-nunito",children:"Ваше замовлення"}),u.length>0?n.jsxs(n.Fragment,{children:[n.jsx("ul",{className:"md:h-48 xs:h-24 overflow-auto",children:u.map(a=>n.jsxs("div",{className:"p-2 border-b flex justify-between items-center",children:[n.jsx("img",{src:a.pizza_img,alt:"",className:"w-24 md:block xs:hidden"}),n.jsxs("span",{className:"text-black font-nunito font-bold md:text-base xs:text-xs",children:["x",a.pizza_counter]}),n.jsx("span",{className:"text-black font-nunito font-bold md:w-48 xs:w-32 md:text-base xs:text-xs",children:a.pizza_title}),n.jsxs("span",{className:"text-black font-nunito font-bold md:text-base xs:text-xs",children:[a.pizza_price," грн"]}),n.jsx("img",{src:H,onClick:()=>t(p({pizza_id:a.id,pizza_price:a.pizza_price})),alt:"",className:"md:w-8 xs:w-6 cursor-pointer"})]},a.id))}),n.jsxs("div",{className:"cart-pizza__delivery flex items-center justify-between flex-wrap mt-4 flex-row w-full px-4",children:[n.jsx("p",{className:"cart-pizza cart-pizza__totalprice text-orange-500 md:text-xl xs:text-xs font-bold font-nunito uppercase",children:"Загальна сума:"}),n.jsxs("p",{className:"cart-pizza cart-pizza__totalprice text-orange-500 md:text-xl xs:text-xs font-bold font-nunito uppercase",children:[s," грн"]})]})]}):n.jsxs("div",{className:"mx-auto w-max",children:[n.jsx("img",{src:I,alt:"",className:"w-16 mt-1 mx-auto"}),n.jsx("p",{className:"text-black font-nunito uppercase font-light text-xm",children:"Замовлень немає"})]})]})]})})};export{G as default};
